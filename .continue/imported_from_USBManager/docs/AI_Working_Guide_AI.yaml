version: 1.0
title: AI Working Guide (machine-readable)
generated: 2026-01-27
description: |
  Structured guide for programmatic consumption by AI agents and tools. Use this YAML to drive automated checklists, prompts, and validation flows.

agents:
  - name: lLM-Assistant
    capabilities: ["code-edit", "test-generator", "prompt-refinement"]
  - name: infra-agent
    capabilities: ["gh-cli", "bw-cli", "runner-config"]

questions_for_user:
  - id: ai_target_models
    text: "Which AI models/agents should we target (examples: GPT-4o/GPT-5-mini, Claude-2, Llama2, local LLM)?"

chapters:
  - id: debugging
    title: Debugging
    roles: [Developer, CI/DevOps, QA]
    steps:
      - id: reproduce
        action: "Run failing workflow locally or reproduce in disposable environment"
        check: "workflow run logs and artifacts available"
      - id: collect_artifacts
        action: "Download TRX and logs using gh run download"
        cli: "gh run download <run-id> --dir artifacts_run<id>"
      - id: scan_sensitive
        action: "Search artifacts for tokens"
        command: "Select-String -Path \"artifacts_run<id>\\**\\*\" -Pattern 'LITTLE_BEAST|sbatt|sbattywolf|BRNMTHF|Sbatta'"

  - id: testing
    title: Testing
    roles: [QA, Developer]
    steps:
      - id: unit_tests
        action: "Run unit tests and produce TRX"
        command: "dotnet test --logger:trx"
      - id: pester
        action: "Run Pester tests for PS scripts and upload TRX per job"

  - id: tool_framework
    title: Tool Framework
    roles: [CI/DevOps, Developer]
    steps:
      - id: cli_tools
        action: "Ensure tool availability and versions"
        tools: ["gh", "bw", "pwsh"]

  - id: code_strategy
    title: Code Strategy Implementation
    roles: [Developer, AI Integrator]
    steps:
      - id: prompt_first
        action: "Create small explicit prompts that include acceptance tests"
      - id: small_commits
        action: "Prefer small iterative commits with PR review"

  - id: testing_strategy
    title: Testing Strategy Implementation
    roles: [QA, Developer]
    steps:
      - id: artifact_scan
        action: "Add post-run artifact scanning job"

  - id: lifecycle
    title: Lifecycle Strategy Implementation
    roles: [Project Owner, DevOps]
    steps:
      - id: design
        action: "Document change, risks and tests"
      - id: implement
        action: "Implement with AI assistance and run tests"

prompts:
  - id: scan_for_tokens
    system: "You are an automated auditor agent. Your job: given a run artifacts folder, list matches for forbidden tokens and output a short JSON report."
    user: "Scan artifacts in folder {artifact_dir} for tokens: LITTLE_BEAST, sbatt, sbattywolf, BRNMTHF, Sbatta. Return JSON {found: bool, matches: [{path,line,text}]}"

validation:
  - id: trx_sanitized
    description: "TRX files must not contain forbidden tokens"
    check_command: "Select-String -Path \"artifacts_run<id>\\**\\*.trx\" -Pattern 'LITTLE_BEAST|sbatt|sbattywolf|BRNMTHF|Sbatta' -Quiet"

notes:
  - "Use this YAML to feed agent workflows that create PRs, run checks, and open issues when violations found."
